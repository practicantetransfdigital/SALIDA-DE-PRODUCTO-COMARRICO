<script>

document.addEventListener('DOMContentLoaded', function() {
  console.log('ðŸš€ Sistema de Salidas de Producto inicializado');

  configurarAutocompletado();
  
  // Event listeners
  const loginForm = document.getElementById('loginForm');
  const formRegistro = document.getElementById('formRegistro');
  const modalRegistro = document.getElementById('modalRegistro');
  
  if (loginForm) {
    loginForm.addEventListener('submit', function(e) {
      e.preventDefault();
      iniciarSesion();
    });
  }
  
  if (formRegistro) {
    formRegistro.addEventListener('submit', guardarRegistro);
  }
  
  if (modalRegistro) {
    modalRegistro.addEventListener('click', function(e) {
      if (e.target === this) {
        cerrarModalRegistro();
      }
    });
  }
  
  // Agregar estilos mejorados para notificaciones
  const styles = document.createElement('style');
  styles.textContent = `
    @keyframes slideInRight {
      from { 
        transform: translateX(100%); 
        opacity: 0; 
      }
      to { 
        transform: translateX(0); 
        opacity: 1; 
      }
    }
    
    .notificacion-contenido {
      display: flex;
      align-items: flex-start;
      justify-content: space-between;
      gap: 10px;
    }
    
    .notificacion-mensaje {
      flex: 1;
      white-space: pre-line;
      line-height: 1.4;
    }
    
    .notificacion-cerrar {
      background: none;
      border: none;
      color: white;
      font-size: 18px;
      cursor: pointer;
      padding: 0;
      width: 24px;
      height: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 4px;
      transition: background-color 0.2s;
    }
    
    .notificacion-cerrar:hover {
      background: rgba(255, 255, 255, 0.2);
    }
  `;
  document.head.appendChild(styles);
});

</script>